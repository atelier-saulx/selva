// re-use some code here
// also diffing is handled here

const connections: Map<string, Observable> = new Map()

// is it an emitter?

// if an observer is disconntected from a connection - reconnect it

// next to selvaClients a connections get Observables as well (they are also its clients)

// Observables get a way to handlke hdc theneselves

// OBservables store things the same way as connections - with selvaClients in there

//

export class Observable {}

// logs are easier to handle just add the id in the command to the other id

// ignore schema for now scince everyting subscribes to it (annoying! we dont want this)

// observer
// add observer

// one observer from the connection

// counter for selvaClient

// if 0 delete and remove 'interest' from the connection - kill after a while

// SCHEMA SUBS JUST MAKE IT DONT CARE -- on destroy destroy it

// no more layers of observers is great

// on incoming update observer

// for now just get a subs manager keep it simple

// gets a destroy function as well ? (for ubnsubscribe / connection gets killed)

// what about hdc? want to keep them active? for a while is selva client still is connected ot them

// makes reuse a lot better

// so observables are just as connections seperate entities
